{"ast":null,"code":"var _jsxFileName = \"/Users/brennanpredmore/dev/jobless/client/src/pages/bloghome.jsx\";\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport moment from 'moment';\nimport { connect } from 'react-redux';\nimport { BlogForm } from '../components/BlogComponents/BlogArticle';\nimport Spinner from '../components/BlogComponents/Spinner/Spinner';\n\nconst BlogHome = props => {\n  useEffect(() => {\n    const {\n      onLoad\n    } = props;\n    axios('http://localhost:8000/api/articles').then(res => {\n      onLoad(res.data);\n      console.log(res);\n    });\n  }, []);\n\n  const handleDelete = id => {\n    const {\n      onDelete\n    } = props;\n    return axios.delete(`http://localhost:8000/api/article${id}`).then(() => onDelete(id));\n  };\n\n  const handleEdit = article => {\n    const {\n      setEdit\n    } = props;\n    setEdit(article);\n  };\n\n  const {\n    articles\n  } = props;\n  console.log(articles);\n\n  if (articles.length === 0) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 12\n      }\n    }, /*#__PURE__*/React.createElement(Spinner, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 17\n      }\n    }));\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row pt-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-12 col-lg-6 offset-lg-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 11\n    }\n  }, \"Jobless Blog\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row pt-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-12 col-lg-6 offset-lg-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }, articles.map(article => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card my-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }\n    }, article.title), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }\n    }, article.body, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"mt-5 text-muted\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 50\n      }\n    }, article.author), \" \", moment(new Date(article.createdAt)).fromNow())), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-footer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => handleEdit(article),\n      className: \"btn btn-primary mx-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 21\n      }\n    }, \"Edit\"), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => handleDelete(article._id),\n      className: \"btn btn-danger\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 21\n      }\n    }, \"Delete\"))));\n  }))));\n};\n\nconst mapStateToProps = state => ({\n  articles: state.bloghome.articles || []\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onLoad: data => dispatch({\n    type: 'HOME_PAGE_LOADED',\n    data\n  }),\n  onDelete: id => dispatch({\n    type: 'DELETE_ARTICLE',\n    id\n  }),\n  setEdit: article => dispatch({\n    type: 'SET_EDIT',\n    article\n  })\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(BlogHome);","map":{"version":3,"sources":["/Users/brennanpredmore/dev/jobless/client/src/pages/bloghome.jsx"],"names":["React","useEffect","useState","axios","moment","connect","BlogForm","Spinner","BlogHome","props","onLoad","then","res","data","console","log","handleDelete","id","onDelete","delete","handleEdit","article","setEdit","articles","length","map","title","body","author","Date","createdAt","fromNow","_id","mapStateToProps","state","bloghome","mapDispatchToProps","dispatch","type"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport moment from 'moment';\nimport { connect } from 'react-redux';\nimport { BlogForm } from '../components/BlogComponents/BlogArticle';\nimport Spinner from '../components/BlogComponents/Spinner/Spinner';\n\nconst BlogHome = props => {\n  useEffect(() => {\n    const { onLoad } = props;\n\n    axios('http://localhost:8000/api/articles')\n      .then((res) => {\n        onLoad(res.data)\n        console.log(res)\n      })\n  }, []);\n\n  const handleDelete = (id) => {\n    const { onDelete } = props;\n\n    return axios.delete(`http://localhost:8000/api/article${id}`)\n      .then(() => onDelete(id));\n  }\n\n  const handleEdit = (article) => {\n    const { setEdit } = props;\n\n    setEdit(article);\n  }\n\n\n  const { articles } = props;\n  console.log(articles)\n\n\n  if (articles.length === 0) {\n    return <div><Spinner/></div>\n  }\n\n  return (\n\n    <div className=\"container\">\n      <div className=\"row pt-5\">\n        <div className=\"col-12 col-lg-6 offset-lg-3\">\n          <h1 className=\"text-center\">Jobless Blog</h1>\n        </div>\n        {/* <BlogForm /> */}\n      </div>\n      <div className=\"row pt-5\">\n        <div className=\"col-12 col-lg-6 offset-lg-3\">\n          {articles.map((article) => {\n            return (\n              <div className=\"card my-3\">\n                <div className=\"card-header\">\n                  {article.title}\n                </div>\n                <div className=\"card-body\">\n                  {article.body}\n                  <p className=\"mt-5 text-muted\"><b>{article.author}</b> {moment(new Date(article.createdAt)).fromNow()}</p>\n                </div>\n                <div className=\"card-footer\">\n                  <div className=\"row\">\n                    <button onClick={() => handleEdit(article)} className=\"btn btn-primary mx-3\">\n                      Edit\n                      </button>\n                    <button onClick={() => handleDelete(article._id)} className=\"btn btn-danger\">\n                      Delete\n                      </button>\n                  </div>\n                </div>\n              </div>\n\n            )\n          })}\n        </div>\n      </div>\n    </div>\n  );\n\n}\n\nconst mapStateToProps = state => ({\n  articles: state.bloghome.articles || [],\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onLoad: data => dispatch({ type: 'HOME_PAGE_LOADED', data }),\n  onDelete: id => dispatch({ type: 'DELETE_ARTICLE', id }),\n  setEdit: article => dispatch({ type: 'SET_EDIT', article }),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(BlogHome);\n"]},"metadata":{},"sourceType":"module"}